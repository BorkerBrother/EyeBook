

<!DOCTYPE html>
<html>
<head>
    <title>eyeBook</title>
    <script src="path/to/epub.js"></script>
    <script src="https://webgazer.cs.brown.edu/webgazer.js?"></script>
    <link rel="stylesheet" type="text/css" href="app.css">
    <script>




        webgazer.setRegression('ridge') /* setzt die Art der Regression auf Ridge */
            .setTracker('clmtrackr') /* setzt den Tracker auf clmtrackr */
            .setGazeListener(function (data, clock) {
                /* hier kann man den Code zur Verarbeitung der Daten einfügen */
            })
            .begin() /* startet die Verfolgung */
            .showPredictionPoints(true); /* zeigt die Vorhersagepunkte an */

        // Create the focus point element
        var focusPoint = document.createElement("div");
        focusPoint.style.width = "20px";
        focusPoint.style.height = "20px";
        focusPoint.style.borderRadius = "50%";
        focusPoint.style.background = "red";
        focusPoint.style.position = "absolute";
        document.body.appendChild(focusPoint);

        // Get the gaze data from Webgazer.js
        webgazer.setGazeListener(function (data, clock) {
            // Get the x and y coordinates of the gaze point
            var x = data.x;
            var y = data.y;

            // Position the focus point element at the gaze point
            focusPoint.style.left = x + "px";
            focusPoint.style.top = y + "px";

            // Use the coordinates to navigate the PDF
            navigatePDF(x, y);
        });



        // Function to navigate the PDF
        function navigatePDF(x, y) {
            // Get the width and height of the PDF viewer
            var pdfWidth = document.getElementById("book").clientWidth;
            var pdfHeight = document.getElementById("book").clientHeight;

            // Calculate the percentage of the x and y coordinates
            // relative to the width and height of the PDF viewer
            var xPercent = x / pdfWidth;
            var yPercent = y / pdfHeight;

            // Use the percentages to navigate to the corresponding
            // page and position in the PDF
            var iframe = document.getElementById("book").getElementsByTagName("iframe")[0];
            iframe.contentWindow.postMessage({
                xPercent: xPercent,
                yPercent: yPercent
            }, '*');
        }

    </script>

</head>
<body>
    <h1>eyeBook</h1>
    <video id="webgazerVideoFeed" width="320" height="240" style="display:none;"></video>

    <div id="book">
        <script>
            var book = ePub("path/to/book.epub");
            book.renderTo("book");
        </script>
    </div>
</body>
</html>
